<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
   <meta name="description" content="Spectral Element Libraries in Fortran. Fortran classes for implementing spectral element methods on CPU and GPU hardware.">
    
    <meta name="author" content="Joe Schoonover" >
    <link rel="icon" href="../favicon.png">

    <title>SELF_MPILayer.f90 &ndash; SELF</title>

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">
    
    <link  href="../tipuesearch/tipuesearch.css" rel="stylesheet">
    
    

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="../js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html">SELF </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
        
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
              data-toggle="dropdown" role="button"
              aria-haspopup="true"
     aria-expanded="false">Contents <span class="caret"></span></a>
        <ul class="dropdown-menu">
          
              
            <li><a href="../lists/files.html">Source Files</a></li>
        
        
        
            <li><a href="../lists/modules.html">Modules</a></li>
        
            
                                
            <li><a href="../lists/procedures.html">Procedures</a></li>
        
               
            <li><a href="../lists/types.html">Derived Types</a></li>
        
        
            <li><a href="../program/self.html">Program</a></li>
      
            </ul>
            </li>


<li class="visible-xs hidden-sm visible-lg"><a href="../lists/files.html">Source Files</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../lists/modules.html">Modules</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../lists/procedures.html">Procedures</a></li>

                             
<li class="visible-xs hidden-sm visible-lg"><a href="../lists/types.html">Derived Types</a></li>


<li class="visible-xs hidden-sm visible-lg"><a href="../program/self.html">Program</a></li>

          </ul>
        
        <form action="../search.html" class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
        </div>
<!--
        <button type="submit" class="btn btn-default">Submit</button>
-->
        </form>
        
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
    
  
  <div class="row">
    <h1>SELF_MPILayer.f90
    <small>Source File</small>
    
    </h1>
    
<div class="row">
  <div class="col-lg-12">
<div class="well well-sm">
  <ul class="list-inline" style="margin-bottom:0px;display:inline">
     
     
     
     
    
    
     <li><i class="fa fa-list-ol"></i>
       <a data-toggle="tooltip"
    data-placement="bottom" data-html="true"
    title=" 0.3% of total for source files.">27 statements</a>
     </li> 
     
     
     
    <li><i class="fa fa-code"></i><a href="../src/SELF_MPILayer.f90"> Source File</a></li>
     
     
  </ul>
  <ol class="breadcrumb in-well text-right">
  
    
  
     <li class="active">SELF_MPILayer.f90</li>
  </ol>
</div>
</div>
</div>
<script>
  $(function () {
  $('[data-toggle="tooltip"]').tooltip()
  })
</script>

  </div>
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
    
<div id="sidebar">
  
<h3>Contents</h3>
 







<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#mods-0">Modules</a></h3></div>
  <div id="mods-0" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../module/self_mpilayer.html">SELF_MPILayer</a>
      
    </div>
  </div>
</div>
















<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title">Source Code</h3></div>
  <div class="list-group">
    <a class="list-group-item" href="../sourcefile/self_mpilayer.f90.html#src">SELF_MPILayer.f90</a>
  </div>
</div>



</div>

    </div>
    <div class="col-md-9" id='text'>
      
      <br>
    
    <div class="panel panel-default">
      <div class="panel-heading">
  <h3 class="panel-title">This file depends on</h3>
      </div>
      <div class="panel-body">
  <div class="depgraph"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: sourcefile~~self_mpilayer.f90~~EfferentGraph Pages: 1 -->
<svg id="sourcefileself_mpilayerf90EfferentGraph" width="641pt" height="151pt"
 viewBox="0.00 0.00 641.00 150.97" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph" class="graph" transform="scale(.5432 .5432) rotate(0) translate(4 273.9121)">
<title>sourcefile~~self_mpilayer.f90~~EfferentGraph</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-273.9121 1176,-273.9121 1176,4 -4,4"/>
<!-- sourcefile~self_mpilayer.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_node1" class="node">
<title>sourcefile~self_mpilayer.f90</title>
<polygon fill="none" stroke="#000000" points="1172,-196.951 1061,-196.951 1061,-172.951 1172,-172.951 1172,-196.951"/>
<text text-anchor="middle" x="1116.5" y="-182.551" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#000000">SELF_MPILayer.f90</text>
</g>
<!-- sourcefile~self_mappeddata.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_node2" class="node">
<title>sourcefile~self_mappeddata.f90</title>
<g id="a_sourcefile~~self_mpilayer.f90~~EfferentGraph_node2"><a xlink:href=".././sourcefile/self_mappeddata.f90.html" xlink:title="SELF_MappedData.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="1025,-196.951 893,-196.951 893,-172.951 1025,-172.951 1025,-196.951"/>
<text text-anchor="middle" x="959" y="-182.551" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">SELF_MappedData.f90</text>
</a>
</g>
</g>
<!-- sourcefile~self_mpilayer.f90&#45;&gt;sourcefile~self_mappeddata.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge2" class="edge">
<title>sourcefile~self_mpilayer.f90&#45;&gt;sourcefile~self_mappeddata.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1060.9714,-184.951C1052.6325,-184.951 1043.912,-184.951 1035.2324,-184.951"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1035.0874,-181.4511 1025.0873,-184.951 1035.0873,-188.4511 1035.0874,-181.4511"/>
</g>
<!-- sourcefile~self_mesh.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_node3" class="node">
<title>sourcefile~self_mesh.f90</title>
<g id="a_sourcefile~~self_mpilayer.f90~~EfferentGraph_node3"><a xlink:href=".././sourcefile/self_mesh.f90.html" xlink:title="SELF_Mesh.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="706,-215.951 615,-215.951 615,-191.951 706,-191.951 706,-215.951"/>
<text text-anchor="middle" x="660.5" y="-201.551" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">SELF_Mesh.f90</text>
</a>
</g>
</g>
<!-- sourcefile~self_mpilayer.f90&#45;&gt;sourcefile~self_mesh.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge1" class="edge">
<title>sourcefile~self_mpilayer.f90&#45;&gt;sourcefile~self_mesh.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1093.3136,-197.1517C1033.9545,-226.7452 872.0232,-297.1176 742,-257.951 719.0999,-251.0529 696.718,-235.3888 681.2215,-222.6984"/>
<polygon fill="#ff0000" stroke="#ff0000" points="683.2506,-219.8299 673.3612,-216.0286 678.7216,-225.1674 683.2506,-219.8299"/>
</g>
<!-- sourcefile~self_data.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_node4" class="node">
<title>sourcefile~self_data.f90</title>
<g id="a_sourcefile~~self_mpilayer.f90~~EfferentGraph_node4"><a xlink:href=".././sourcefile/self_data.f90.html" xlink:title="SELF_Data.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="579,-97.951 490,-97.951 490,-73.951 579,-73.951 579,-97.951"/>
<text text-anchor="middle" x="534.5" y="-83.551" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">SELF_Data.f90</text>
</a>
</g>
</g>
<!-- sourcefile~self_mpilayer.f90&#45;&gt;sourcefile~self_data.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge3" class="edge">
<title>sourcefile~self_mpilayer.f90&#45;&gt;sourcefile~self_data.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M1065.767,-172.8974C1052.5225,-169.8632 1038.2471,-166.6921 1025,-163.951 867.8796,-131.4404 680.0208,-104.9813 589.1221,-92.953"/>
<polygon fill="#ff0000" stroke="#ff0000" points="589.4233,-89.4625 579.0519,-91.6271 588.5094,-96.4026 589.4233,-89.4625"/>
</g>
<!-- sourcefile~self_mappeddata.f90&#45;&gt;sourcefile~self_mesh.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge6" class="edge">
<title>sourcefile~self_mappeddata.f90&#45;&gt;sourcefile~self_mesh.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M937.1453,-197.029C907.1846,-212.638 851.1735,-238.4689 799.5,-243.951"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M799.5,-243.951C761.5263,-247.9797 719.619,-233.1075 691.8509,-220.368"/>
<polygon fill="#ff0000" stroke="#ff0000" points="693.1817,-217.1252 682.6483,-215.9854 690.1718,-223.4451 693.1817,-217.1252"/>
</g>
<!-- sourcefile~self_mappeddata.f90&#45;&gt;sourcefile~self_data.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge5" class="edge">
<title>sourcefile~self_mappeddata.f90&#45;&gt;sourcefile~self_data.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M914.9458,-172.8933C857.1012,-157.8375 752.1318,-133.1782 660.5,-125.951"/>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M660.5,-125.951C630.516,-121.1985 597.8781,-110.6781 573.3339,-101.6191"/>
<polygon fill="#ff0000" stroke="#ff0000" points="574.2698,-98.2315 563.678,-97.9769 571.7992,-104.781 574.2698,-98.2315"/>
</g>
<!-- sourcefile~self_constants.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_node6" class="node">
<title>sourcefile~self_constants.f90</title>
<g id="a_sourcefile~~self_mpilayer.f90~~EfferentGraph_node6"><a xlink:href=".././sourcefile/self_constants.f90.html" xlink:title="SELF_Constants.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="116,-116.951 0,-116.951 0,-92.951 116,-92.951 116,-116.951"/>
<text text-anchor="middle" x="58" y="-102.551" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">SELF_Constants.f90</text>
</a>
</g>
</g>
<!-- sourcefile~self_mappeddata.f90&#45;&gt;sourcefile~self_constants.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge8" class="edge">
<title>sourcefile~self_mappeddata.f90&#45;&gt;sourcefile~self_constants.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M799.5,-243.951C546.1096,-270.8337 469.1771,-285.7071 227.5,-204.951"/>
</g>
<!-- sourcefile~self_geometry.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_node7" class="node">
<title>sourcefile~self_geometry.f90</title>
<g id="a_sourcefile~~self_mpilayer.f90~~EfferentGraph_node7"><a xlink:href=".././sourcefile/self_geometry.f90.html" xlink:title="SELF_Geometry.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="857,-196.951 742,-196.951 742,-172.951 857,-172.951 857,-196.951"/>
<text text-anchor="middle" x="799.5" y="-182.551" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">SELF_Geometry.f90</text>
</a>
</g>
</g>
<!-- sourcefile~self_mappeddata.f90&#45;&gt;sourcefile~self_geometry.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge4" class="edge">
<title>sourcefile~self_mappeddata.f90&#45;&gt;sourcefile~self_geometry.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M892.7433,-184.951C884.3461,-184.951 875.7432,-184.951 867.322,-184.951"/>
<polygon fill="#ff0000" stroke="#ff0000" points="867.166,-181.4511 857.1659,-184.951 867.1659,-188.4511 867.166,-181.4511"/>
</g>
<!-- sourcefile~self_lagrange.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_node8" class="node">
<title>sourcefile~self_lagrange.f90</title>
<g id="a_sourcefile~~self_mpilayer.f90~~EfferentGraph_node8"><a xlink:href=".././sourcefile/self_lagrange.f90.html" xlink:title="SELF_Lagrange.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="454,-97.951 339,-97.951 339,-73.951 454,-73.951 454,-97.951"/>
<text text-anchor="middle" x="396.5" y="-83.551" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">SELF_Lagrange.f90</text>
</a>
</g>
</g>
<!-- sourcefile~self_mappeddata.f90&#45;&gt;sourcefile~self_lagrange.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge7" class="edge">
<title>sourcefile~self_mappeddata.f90&#45;&gt;sourcefile~self_lagrange.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M660.5,-125.951C585.1933,-114.0148 565.1993,-119.5466 490,-106.951 478.7051,-105.0592 466.7241,-102.6664 455.2427,-100.1788"/>
<polygon fill="#ff0000" stroke="#ff0000" points="455.8317,-96.7245 445.3114,-97.9786 454.3176,-103.5588 455.8317,-96.7245"/>
</g>
<!-- sourcefile~self_mesh.f90&#45;&gt;sourcefile~self_data.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge12" class="edge">
<title>sourcefile~self_mesh.f90&#45;&gt;sourcefile~self_data.f90</title>
<path fill="none" stroke="#00ff00" stroke-dasharray="5,2" d="M635.9119,-191.8712C628.8435,-187.8875 621.3382,-183.135 615,-177.951 588.8116,-156.5317 564.0241,-126.1148 549.0474,-106.2112"/>
<polygon fill="#00ff00" stroke="#00ff00" points="551.8305,-104.0881 543.0704,-98.129 546.2023,-108.2503 551.8305,-104.0881"/>
</g>
<!-- sourcefile~self_supportroutines.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_node5" class="node">
<title>sourcefile~self_supportroutines.f90</title>
<g id="a_sourcefile~~self_mpilayer.f90~~EfferentGraph_node5"><a xlink:href=".././sourcefile/self_supportroutines.f90.html" xlink:title="SELF_SupportRoutines.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="303,-176.951 152,-176.951 152,-152.951 303,-152.951 303,-176.951"/>
<text text-anchor="middle" x="227.5" y="-162.551" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">SELF_SupportRoutines.f90</text>
</a>
</g>
</g>
<!-- sourcefile~self_mesh.f90&#45;&gt;sourcefile~self_supportroutines.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge9" class="edge">
<title>sourcefile~self_mesh.f90&#45;&gt;sourcefile~self_supportroutines.f90</title>
<path fill="none" stroke="#00ff00" stroke-dasharray="5,2" d="M534.5,-204.951C474.384,-192.7918 457.727,-208.5613 396.5,-204.951"/>
<path fill="none" stroke="#00ff00" stroke-dasharray="5,2" d="M396.5,-204.951C353.4907,-202.415 305.8406,-190.2474 272.1308,-179.9907"/>
<polygon fill="#00ff00" stroke="#00ff00" points="273.1617,-176.646 262.5735,-177.0203 271.0841,-183.3306 273.1617,-176.646"/>
</g>
<!-- sourcefile~self_mesh.f90&#45;&gt;sourcefile~self_constants.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge10" class="edge">
<title>sourcefile~self_mesh.f90&#45;&gt;sourcefile~self_constants.f90</title>
<path fill="none" stroke="#00ff00" stroke-dasharray="5,2" d="M396.5,-204.951C321.5191,-200.5297 298.7392,-228.7555 227.5,-204.951"/>
<path fill="none" stroke="#00ff00" stroke-dasharray="5,2" d="M227.5,-204.951C194.6819,-193.9849 182.7093,-201.8954 152,-185.951 121.7202,-170.2296 92.929,-142.9592 75.3736,-124.4465"/>
<polygon fill="#00ff00" stroke="#00ff00" points="77.933,-122.059 68.5662,-117.1079 72.801,-126.8196 77.933,-122.059"/>
</g>
<!-- sourcefile~self_mesh.f90&#45;&gt;sourcefile~self_lagrange.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge11" class="edge">
<title>sourcefile~self_mesh.f90&#45;&gt;sourcefile~self_lagrange.f90</title>
<path fill="none" stroke="#00ff00" stroke-dasharray="5,2" d="M614.8706,-208.8175C590.7456,-210.2629 560.7658,-210.2636 534.5,-204.951"/>
<path fill="none" stroke="#00ff00" stroke-dasharray="5,2" d="M534.5,-204.951C512.0485,-200.41 508.1553,-192.9181 490,-178.951 460.8131,-156.4973 431.3935,-125.5476 413.5547,-105.6409"/>
<polygon fill="#00ff00" stroke="#00ff00" points="416.1212,-103.2598 406.8717,-98.0928 410.8802,-107.9001 416.1212,-103.2598"/>
</g>
<!-- sourcefile~self_data.f90&#45;&gt;sourcefile~self_constants.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge13" class="edge">
<title>sourcefile~self_data.f90&#45;&gt;sourcefile~self_constants.f90</title>
<path fill="none" stroke="#0000ff" stroke-dasharray="5,2" d="M513.2712,-73.8004C463.9028,-46.9704 337.2226,13.6837 227.5,-2.951"/>
<path fill="none" stroke="#0000ff" stroke-dasharray="5,2" d="M227.5,-2.951C193.1316,-6.9635 182.6124,-5.8214 152,-21.951 121.3274,-38.1124 92.4405,-66.2854 74.9871,-85.2719"/>
<polygon fill="#0000ff" stroke="#0000ff" points="72.3164,-83.0074 68.2352,-92.7847 77.5228,-87.6865 72.3164,-83.0074"/>
</g>
<!-- sourcefile~self_data.f90&#45;&gt;sourcefile~self_lagrange.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge14" class="edge">
<title>sourcefile~self_data.f90&#45;&gt;sourcefile~self_lagrange.f90</title>
<path fill="none" stroke="#0000ff" stroke-dasharray="5,2" d="M489.6954,-85.951C481.5498,-85.951 472.8891,-85.951 464.2544,-85.951"/>
<polygon fill="#0000ff" stroke="#0000ff" points="464.1625,-82.4511 454.1624,-85.951 464.1624,-89.4511 464.1625,-82.4511"/>
</g>
<!-- sourcefile~self_supportroutines.f90&#45;&gt;sourcefile~self_constants.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge15" class="edge">
<title>sourcefile~self_supportroutines.f90&#45;&gt;sourcefile~self_constants.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M192.1238,-152.8944C179.4525,-148.5426 165.0725,-143.5658 152,-138.951 135.1958,-133.0189 116.7481,-126.3752 100.6792,-120.5453"/>
<polygon fill="#ff0000" stroke="#ff0000" points="101.6115,-117.1602 91.0174,-117.0342 99.2206,-123.7393 101.6115,-117.1602"/>
</g>
<!-- sourcefile~self_geometry.f90&#45;&gt;sourcefile~self_mesh.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge18" class="edge">
<title>sourcefile~self_geometry.f90&#45;&gt;sourcefile~self_mesh.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M741.7591,-192.8437C733.3805,-193.989 724.7671,-195.1663 716.4252,-196.3066"/>
<polygon fill="#00ffff" stroke="#00ffff" points="715.8524,-192.8522 706.4186,-197.6744 716.8005,-199.7878 715.8524,-192.8522"/>
</g>
<!-- sourcefile~self_geometry.f90&#45;&gt;sourcefile~self_data.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge16" class="edge">
<title>sourcefile~self_geometry.f90&#45;&gt;sourcefile~self_data.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M741.6618,-178.144C716.5593,-174.6934 686.9182,-169.9487 660.5,-163.951"/>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M660.5,-163.951C618.9809,-154.525 578.4877,-124.6908 555.0441,-104.7727"/>
<polygon fill="#00ffff" stroke="#00ffff" points="557.3282,-102.1206 547.4891,-98.1906 552.7299,-107.3985 557.3282,-102.1206"/>
</g>
<!-- sourcefile~self_geometry.f90&#45;&gt;sourcefile~self_supportroutines.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge17" class="edge">
<title>sourcefile~self_geometry.f90&#45;&gt;sourcefile~self_supportroutines.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M396.5,-164.951C369.4897,-163.3584 340.0089,-162.9131 313.3424,-162.9954"/>
<polygon fill="#00ffff" stroke="#00ffff" points="313.2514,-159.4957 303.2711,-163.0514 313.2904,-166.4956 313.2514,-159.4957"/>
</g>
<!-- sourcefile~self_geometry.f90&#45;&gt;sourcefile~self_constants.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge20" class="edge">
<title>sourcefile~self_geometry.f90&#45;&gt;sourcefile~self_constants.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M534.5,-164.951C473.7282,-156.6706 457.727,-168.5613 396.5,-164.951"/>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M396.5,-164.951C353.9831,-162.444 344.8292,-151.9694 303,-143.951 243.4416,-132.5341 175.285,-121.8783 126.0047,-114.6"/>
<polygon fill="#00ffff" stroke="#00ffff" points="126.4996,-111.1352 116.0971,-113.1447 125.4823,-118.0609 126.4996,-111.1352"/>
</g>
<!-- sourcefile~self_geometry.f90&#45;&gt;sourcefile~self_lagrange.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge19" class="edge">
<title>sourcefile~self_geometry.f90&#45;&gt;sourcefile~self_lagrange.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M660.5,-163.951C605.888,-151.5525 589.989,-172.5117 534.5,-164.951"/>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M534.5,-164.951C488.2981,-158.6558 442.9887,-126.2771 417.5069,-104.9747"/>
<polygon fill="#00ffff" stroke="#00ffff" points="419.5191,-102.0892 409.6527,-98.2286 414.9582,-107.3994 419.5191,-102.0892"/>
</g>
<!-- sourcefile~self_lagrange.f90&#45;&gt;sourcefile~self_supportroutines.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge21" class="edge">
<title>sourcefile~self_lagrange.f90&#45;&gt;sourcefile~self_supportroutines.f90</title>
<path fill="none" stroke="#7f00ff" stroke-dasharray="5,2" d="M370.4641,-98.1217C341.5993,-111.6147 294.8824,-133.4528 262.7545,-148.4711"/>
<polygon fill="#7f00ff" stroke="#7f00ff" points="260.8651,-145.4908 253.2881,-152.8962 263.8294,-151.8321 260.8651,-145.4908"/>
</g>
<!-- sourcefile~self_lagrange.f90&#45;&gt;sourcefile~self_constants.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge22" class="edge">
<title>sourcefile~self_lagrange.f90&#45;&gt;sourcefile~self_constants.f90</title>
<path fill="none" stroke="#7f00ff" stroke-dasharray="5,2" d="M384.2602,-73.6063C357.5925,-48.2061 291.4906,6.7504 227.5,-2.951"/>
</g>
<!-- sourcefile~self_quadrature.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_node9" class="node">
<title>sourcefile~self_quadrature.f90</title>
<g id="a_sourcefile~~self_mpilayer.f90~~EfferentGraph_node9"><a xlink:href=".././sourcefile/self_quadrature.f90.html" xlink:title="SELF_Quadrature.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="290,-96.951 165,-96.951 165,-72.951 290,-72.951 290,-96.951"/>
<text text-anchor="middle" x="227.5" y="-82.551" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">SELF_Quadrature.f90</text>
</a>
</g>
</g>
<!-- sourcefile~self_lagrange.f90&#45;&gt;sourcefile~self_quadrature.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge23" class="edge">
<title>sourcefile~self_lagrange.f90&#45;&gt;sourcefile~self_quadrature.f90</title>
<path fill="none" stroke="#7f00ff" stroke-dasharray="5,2" d="M338.8125,-85.6097C326.4385,-85.5365 313.2088,-85.4582 300.3463,-85.3821"/>
<polygon fill="#7f00ff" stroke="#7f00ff" points="300.1535,-81.881 290.1329,-85.3217 300.112,-88.8809 300.1535,-81.881"/>
</g>
<!-- sourcefile~self_memory.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_node10" class="node">
<title>sourcefile~self_memory.f90</title>
<g id="a_sourcefile~~self_mpilayer.f90~~EfferentGraph_node10"><a xlink:href=".././sourcefile/self_memory.f90.html" xlink:title="SELF_Memory.f90">
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="280.5,-54.951 174.5,-54.951 174.5,-30.951 280.5,-30.951 280.5,-54.951"/>
<text text-anchor="middle" x="227.5" y="-40.551" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">SELF_Memory.f90</text>
</a>
</g>
</g>
<!-- sourcefile~self_lagrange.f90&#45;&gt;sourcefile~self_memory.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge24" class="edge">
<title>sourcefile~self_lagrange.f90&#45;&gt;sourcefile~self_memory.f90</title>
<path fill="none" stroke="#7f00ff" stroke-dasharray="5,2" d="M348.9743,-73.8587C328.9154,-68.755 305.3939,-62.7702 284.4189,-57.4334"/>
<polygon fill="#7f00ff" stroke="#7f00ff" points="285.2232,-54.0266 274.6689,-54.9526 283.4971,-60.8104 285.2232,-54.0266"/>
</g>
<!-- sourcefile~self_quadrature.f90&#45;&gt;sourcefile~self_constants.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge25" class="edge">
<title>sourcefile~self_quadrature.f90&#45;&gt;sourcefile~self_constants.f90</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M164.866,-92.3415C152.2903,-93.8253 139.016,-95.3916 126.2602,-96.8967"/>
<polygon fill="#ff0000" stroke="#ff0000" points="125.6855,-93.4402 116.1646,-98.088 126.5059,-100.392 125.6855,-93.4402"/>
</g>
<!-- sourcefile~self_memory.f90&#45;&gt;sourcefile~self_constants.f90 -->
<g id="sourcefile~~self_mpilayer.f90~~EfferentGraph_edge26" class="edge">
<title>sourcefile~self_memory.f90&#45;&gt;sourcefile~self_constants.f90</title>
<path fill="none" stroke="#00ffff" stroke-dasharray="5,2" d="M180.0604,-55.0512C170.6859,-57.7489 160.9744,-60.7634 152,-63.951 131.8986,-71.0908 110.0231,-80.5282 92.437,-88.5486"/>
<polygon fill="#00ffff" stroke="#00ffff" points="90.7606,-85.4675 83.1468,-92.835 93.6932,-91.8235 90.7606,-85.4675"/>
</g>
</g>
</svg>
</div><script>var pansourcefileself_mpilayerf90EfferentGraph = svgPanZoom('#sourcefileself_mpilayerf90EfferentGraph', {zoomEnabled: true,controlIconsEnabled: true, fit: true, center: true,}); </script><div><a type="button" class="graph-help" data-toggle="modal" href="#graph-help-text">Help</a></div><div class="modal fade" id="graph-help-text" tabindex="-1" role="dialog"><div class="modal-dialog modal-lg" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="-graph-help-label">Graph Key</h4></div><div class="modal-body">
    <p>Nodes of different colours represent the following: </p>
    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Graph Key Pages: 1 -->
<svg width="202pt" height="32pt"
 viewBox="0.00 0.00 201.50 32.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 28)">
<title>Graph Key</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-28 197.5,-28 197.5,4 -4,4"/>
<!-- Source File -->
<g id="node1" class="node">
<title>Source File</title>
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="71,-24 0,-24 0,0 71,0 71,-24"/>
<text text-anchor="middle" x="35.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#ffffff">Source File</text>
</g>
<!-- This Page&#39;s Entity -->
<g id="node2" class="node">
<title>This Page&#39;s Entity</title>
<polygon fill="none" stroke="#000000" points="193.5,-24 89.5,-24 89.5,0 193.5,0 193.5,-24"/>
<text text-anchor="middle" x="141.5" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="#000000">This Page&#39;s Entity</text>
</g>
</g>
</svg>

    
    <p>Solid arrows point from a file to a file which it depends on. A file
    is dependent upon another if the latter must be compiled before the former
    can be. Where possible, edges connecting nodes are given different colours to make them easier to distinguish in large graphs.
    </p>
    </div></div></div></div>
      </div>
    </div>
    
      
      <br>

    <section class="visible-xs visible-sm hidden-md">
      
<h3>Contents</h3>
 







<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#mods-1">Modules</a></h3></div>
  <div id="mods-1" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../module/self_mpilayer.html">SELF_MPILayer</a>
      
    </div>
  </div>
</div>
















<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title">Source Code</h3></div>
  <div class="list-group">
    <a class="list-group-item" href="../sourcefile/self_mpilayer.f90.html#src">SELF_MPILayer.f90</a>
  </div>
</div>



    </section>
    <br class="visible-xs visible-sm hidden-md">

    <section>
      <h2><span class="anchor" id="src"></span>Source Code</h2>
    <div class="hl"><pre><span></span><a name="ln-1"></a><span class="k">MODULE </span><span class="n">SELF_MPILayer</span>
<a name="ln-2"></a>
<a name="ln-3"></a>  <span class="k">USE </span><span class="n">SELF_Data</span>
<a name="ln-4"></a>  <span class="k">USE </span><span class="n">SELF_MappedData</span>
<a name="ln-5"></a>  <span class="k">USE </span><span class="n">SELF_Mesh</span>
<a name="ln-6"></a>
<a name="ln-7"></a>  <span class="k">IMPLICIT NONE</span>
<a name="ln-8"></a>
<a name="ln-9"></a><span class="c">!  TYPE MPILayer</span>
<a name="ln-10"></a><span class="c">!</span>
<a name="ln-11"></a><span class="c">!    INTEGER :: nMessages</span>
<a name="ln-12"></a><span class="c">!    INTEGER :: mpiComm</span>
<a name="ln-13"></a><span class="c">!    INTEGER :: mpiPrec</span>
<a name="ln-14"></a><span class="c">!    INTEGER :: myRank</span>
<a name="ln-15"></a><span class="c">!    INTEGER :: nProc</span>
<a name="ln-16"></a><span class="c">!    INTEGER, ALLOCATABLE :: requestHandle(:), requestStats(:,:)</span>
<a name="ln-17"></a><span class="c">!</span>
<a name="ln-18"></a><span class="c">!    CONTAINS</span>
<a name="ln-19"></a><span class="c">!</span>
<a name="ln-20"></a><span class="c">!      PROCEDURE :: Init =&gt; Init_MPILayer</span>
<a name="ln-21"></a><span class="c">!      PROCEDURE :: Free =&gt; Free_MPILayer</span>
<a name="ln-22"></a><span class="c">!</span>
<a name="ln-23"></a><span class="c">!      GENERIC, PUBLIC :: MPI_Exchange =&gt; MPIExchange_MappedScalar2D</span>
<a name="ln-24"></a><span class="c">!      PROCEDURE, PUBLIC :: MPIExchange_MappedScalar2D</span>
<a name="ln-25"></a><span class="c">!</span>
<a name="ln-26"></a><span class="c">!      PROCEDURE :: Finalize_MPI_Exchange</span>
<a name="ln-27"></a><span class="c">!</span>
<a name="ln-28"></a><span class="c">!  END TYPE MPILayer</span>
<a name="ln-29"></a>
<a name="ln-30"></a>  <span class="k">PUBLIC</span> <span class="kd">::</span> <span class="n">SELF_CalculateRankDistributions</span>
<a name="ln-31"></a>
<a name="ln-32"></a><span class="k">CONTAINS</span>
<a name="ln-33"></a>
<a name="ln-34"></a><span class="c">!  FUNCTION Int2Str( aNumber ) RESULT( aString )</span>
<a name="ln-35"></a><span class="c">!    IMPLICIT NONE</span>
<a name="ln-36"></a><span class="c">!    INTEGER :: aNumber</span>
<a name="ln-37"></a><span class="c">!    CHARACTER(12) :: aString</span>
<a name="ln-38"></a><span class="c">!</span>
<a name="ln-39"></a><span class="c">!      WRITE(aString, &#39;(I12)&#39;) aNumber</span>
<a name="ln-40"></a><span class="c">!</span>
<a name="ln-41"></a><span class="c">!  END FUNCTION Int2Str</span>
<a name="ln-42"></a>
<a name="ln-43"></a>  <span class="k">SUBROUTINE </span><span class="n">SELF_CalculateRankDistributions</span><span class="p">(</span><span class="n">nObj</span><span class="p">,</span><span class="n">nRanks</span><span class="p">,</span><span class="n">objBounds</span><span class="p">)</span>
<a name="ln-44"></a><span class="cp">#undef __FUNC__</span>
<a name="ln-45"></a><span class="cp">#define __FUNC__ SELF_CalculateRankDistributions</span>
<a name="ln-46"></a>    <span class="k">IMPLICIT NONE</span>
<a name="ln-47"></a><span class="k">    </span><span class="kt">INTEGER</span><span class="p">,</span><span class="k">INTENT</span><span class="p">(</span><span class="n">in</span><span class="p">)</span> <span class="kd">::</span> <span class="n">nObj</span>
<a name="ln-48"></a>    <span class="kt">INTEGER</span><span class="p">,</span><span class="k">INTENT</span><span class="p">(</span><span class="n">in</span><span class="p">)</span> <span class="kd">::</span> <span class="n">nRanks</span>
<a name="ln-49"></a>    <span class="kt">INTEGER</span><span class="p">,</span><span class="k">INTENT</span><span class="p">(</span><span class="n">out</span><span class="p">)</span> <span class="kd">::</span> <span class="n">objBounds</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="n">nRanks</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<a name="ln-50"></a>    <span class="c">! Local</span>
<a name="ln-51"></a>    <span class="kt">INTEGER</span> <span class="kd">::</span> <span class="n">rank</span><span class="p">,</span><span class="n">nObjPerRank</span><span class="p">,</span><span class="n">remainder</span><span class="p">,</span><span class="n">lastUpperBound</span>
<a name="ln-52"></a>
<a name="ln-53"></a>    <span class="n">nObjPerRank</span> <span class="o">=</span> <span class="n">nObj</span><span class="o">/</span><span class="n">nRanks</span>
<a name="ln-54"></a>    <span class="n">remainder</span> <span class="o">=</span> <span class="n">nObj</span> <span class="o">-</span> <span class="n">nObjPerRank</span><span class="o">*</span><span class="n">nRanks</span>
<a name="ln-55"></a>
<a name="ln-56"></a>    <span class="n">lastUpperBound</span> <span class="o">=</span> <span class="mi">0</span>
<a name="ln-57"></a>    <span class="k">DO </span><span class="n">rank</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="n">nRanks</span> <span class="o">-</span> <span class="mi">1</span>
<a name="ln-58"></a>
<a name="ln-59"></a>      <span class="n">objBounds</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">rank</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">lastUpperBound</span>
<a name="ln-60"></a>      <span class="k">IF</span> <span class="p">(</span><span class="n">rank</span> <span class="o">&lt;</span> <span class="n">remainder</span><span class="p">)</span> <span class="k">THEN</span>
<a name="ln-61"></a><span class="k">        </span><span class="n">objBounds</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">rank</span><span class="p">)</span> <span class="o">=</span> <span class="n">objBounds</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">rank</span><span class="p">)</span> <span class="o">+</span> <span class="n">nObjPerRank</span> <span class="o">+</span> <span class="mi">1</span>
<a name="ln-62"></a>      <span class="k">ELSE</span>
<a name="ln-63"></a><span class="k">        </span><span class="n">objBounds</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">rank</span><span class="p">)</span> <span class="o">=</span> <span class="n">objBounds</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">rank</span><span class="p">)</span> <span class="o">+</span> <span class="n">nObjPerRank</span>
<a name="ln-64"></a>      <span class="k">END IF</span>
<a name="ln-65"></a><span class="k">      </span><span class="n">lastUpperBound</span> <span class="o">=</span> <span class="n">objBounds</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">rank</span><span class="p">)</span>
<a name="ln-66"></a>
<a name="ln-67"></a>      <span class="c">!   INFO( &#39;Rank &#39;//TRIM(Int2Str(rank))//&amp;</span>
<a name="ln-68"></a>      <span class="c">!         &#39; [lower,upper/total] = &#39;//&amp;</span>
<a name="ln-69"></a>      <span class="c">!         TRIM(Int2Str(objBounds(1,rank)))//&#39;,&#39;//&amp;</span>
<a name="ln-70"></a>      <span class="c">!         TRIM(Int2Str(objBounds(2,rank)))//&#39;/&#39;//&amp;</span>
<a name="ln-71"></a>      <span class="c">!         TRIM(Int2Str(nObj)) )</span>
<a name="ln-72"></a>
<a name="ln-73"></a>    <span class="k">END DO</span>
<a name="ln-74"></a>
<a name="ln-75"></a><span class="k">  END SUBROUTINE </span><span class="n">SELF_CalculateRankDistributions</span>
<a name="ln-76"></a>
<a name="ln-77"></a><span class="c">!  SUBROUTINE MPIExchange_MappedScalar2D( mpiHandler, scalar, mesh, workScalar )</span>
<a name="ln-78"></a><span class="c">!    IMPLICIT NONE</span>
<a name="ln-79"></a><span class="c">!    CLASS(MPILayer), INTENT(inout) :: mpiHandler</span>
<a name="ln-80"></a><span class="c">!    TYPE(MappedScalar2D), INTENT(in) :: scalar</span>
<a name="ln-81"></a><span class="c">!    TYPE(Mesh2D), INTENT(in) :: mesh</span>
<a name="ln-82"></a><span class="c">!    TYPE(MappedScalar2D), INTENT(inout) :: scalar</span>
<a name="ln-83"></a><span class="c">!    ! Local</span>
<a name="ln-84"></a><span class="c">!    INTEGER :: msgCnt, e1, s1, e2, s2</span>
<a name="ln-85"></a><span class="c">!    INTEGER :: globalSideId, externalProcId</span>
<a name="ln-86"></a><span class="c">!</span>
<a name="ln-87"></a><span class="c">!    msgCnt = 0</span>
<a name="ln-88"></a><span class="c">!    DO e1 = 1, mesh % nElem</span>
<a name="ln-89"></a><span class="c">!      s1 = 1</span>
<a name="ln-90"></a><span class="c">!      DO sideId = mesh % elemInfo % hostData(3,e1)+1, mesh % elemInfo % hostData(4,e1)</span>
<a name="ln-91"></a><span class="c">!        ! Secondary element ID for this face</span>
<a name="ln-92"></a><span class="c">!        e2 = mesh % sideInfo % hostData(3,sideId)</span>
<a name="ln-93"></a><span class="c">!</span>
<a name="ln-94"></a><span class="c">!        ! In SELF, we read in HOPR pre-processed mesh information. Upon reading in and</span>
<a name="ln-95"></a><span class="c">!        ! performing data decomposition, we set e2 = -e2 if the neighboring element is</span>
<a name="ln-96"></a><span class="c">!        ! owned by another rank</span>
<a name="ln-97"></a><span class="c">!        IF( e2 &lt; 0 )THEN</span>
<a name="ln-98"></a><span class="c">!          s2 = mesh % sideInfo % hostData(4,sideId)/10</span>
<a name="ln-99"></a><span class="c">!          globalSideId = ABS(mesh % sideInfo % hostdata(2,sideId))</span>
<a name="ln-100"></a><span class="c">!</span>
<a name="ln-101"></a><span class="c">!          ! Assume that mesh has been pre-processed with HOPR and</span>
<a name="ln-102"></a><span class="c">!          ! elements are distributed to ranks by simply dividing the list [1:nElements]</span>
<a name="ln-103"></a><span class="c">!          ! evenly and in order to all ranks</span>
<a name="ln-104"></a><span class="c">!          ! TODO: externalProcId = GetRank( e2, mesh % nElem, mpiHandler % nRanks )</span>
<a name="ln-105"></a><span class="c">!</span>
<a name="ln-106"></a><span class="c">!          msgCnt = msgCnt + 1</span>
<a name="ln-107"></a><span class="c">!          ! Receive data on this rank&#39;s workScalar</span>
<a name="ln-108"></a><span class="c">!          CALL MPI_IRECV( workScalar % boundary % hostData(:,:,s1,e1), &amp;</span>
<a name="ln-109"></a><span class="c">!                          (scalar % N+1)*scalar % nVar, &amp;</span>
<a name="ln-110"></a><span class="c">!                          mpiHandler % mpiPrec, &amp;</span>
<a name="ln-111"></a><span class="c">!                          externalProcId, globalSideId,  &amp;</span>
<a name="ln-112"></a><span class="c">!                          mpiHandler % mpiComm, &amp;</span>
<a name="ln-113"></a><span class="c">!                          mpiHandler % requestHandle(msgCnt*2-1), iError )</span>
<a name="ln-114"></a><span class="c">!</span>
<a name="ln-115"></a><span class="c">!</span>
<a name="ln-116"></a><span class="c">!          ! Send data from this rank&#39;s scalar</span>
<a name="ln-117"></a><span class="c">!          CALL MPI_ISEND( workScalar % boundary % hostData(:,:,s1,e1), &amp;</span>
<a name="ln-118"></a><span class="c">!                          (scalar % N+1)*scalar % nVar, &amp;</span>
<a name="ln-119"></a><span class="c">!                          mpiHandler % mpiPrec, &amp;</span>
<a name="ln-120"></a><span class="c">!                          externalProcID, globalSideId, &amp;</span>
<a name="ln-121"></a><span class="c">!                          mpiHandler % mpiComm, &amp;</span>
<a name="ln-122"></a><span class="c">!                          mpiHandler % requestHandle(msgCnt*2), iError)</span>
<a name="ln-123"></a><span class="c">!</span>
<a name="ln-124"></a><span class="c">!        ENDIF</span>
<a name="ln-125"></a><span class="c">!</span>
<a name="ln-126"></a><span class="c">!      ENDDO</span>
<a name="ln-127"></a><span class="c">!    ENDDO</span>
<a name="ln-128"></a><span class="c">!</span>
<a name="ln-129"></a><span class="c">!  END FUNCTION MPIExchange_MappedScalar2D</span>
<a name="ln-130"></a><span class="c">!</span>
<a name="ln-131"></a><span class="c">!  SUBROUTINE Finalize_MPIExchange( mpiHandler )</span>
<a name="ln-132"></a><span class="c">!    CLASS( MPILayer ), INTENT(inout) :: mpiHandler</span>
<a name="ln-133"></a><span class="c">!    ! Local</span>
<a name="ln-134"></a><span class="c">!    INTEGER    :: ierror</span>
<a name="ln-135"></a><span class="c">!</span>
<a name="ln-136"></a><span class="c">!    CALL MPI_WaitAll( mpiHandler % nMessages*2, &amp;</span>
<a name="ln-137"></a><span class="c">!                      mpiHandler % requestHandle, &amp;</span>
<a name="ln-138"></a><span class="c">!                      mpiHandler % requestStats, &amp;</span>
<a name="ln-139"></a><span class="c">!                      iError)</span>
<a name="ln-140"></a><span class="c">!</span>
<a name="ln-141"></a><span class="c">!  END SUBROUTINE Finalize_MPI_Exchange</span>
<a name="ln-142"></a>
<a name="ln-143"></a><span class="k">END MODULE </span><span class="n">SELF_MPILayer</span>
</pre></div>

    </section>
    </div>
  </div>

  
    <hr>    
    </div> <!-- /container -->
    <footer>
      <div class="container">
      <div class="row">
        <div class="col-xs-6 col-md-4"><p>&copy; 2021 
                                          </p></div>
        <div class="col-xs-6 col-md-4 col-md-push-4">
          <p class="text-right">
            Documentation generated by 
            <a href="https://github.com/cmacmackin/ford">FORD</a>
             on 2021-02-25 19:01  
          </p>
        </div>
        <div class="col-xs-12 col-md-4 col-md-pull-4"><p class="text-center"> SELF was developed by Joe Schoonover</p></div>
      </div>
      <br>
      </div> <!-- /container -->    
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
<!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
-->
    <script src="../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../js/ie10-viewport-bug-workaround.js"></script>

    <!-- MathJax JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
        jax: ['input/TeX','input/MathML','output/HTML-CSS'],
        extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
      });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    
    <script src="../tipuesearch/tipuesearch_content.js"></script>
    <script src="../tipuesearch/tipuesearch_set.js"></script>
    <script src="../tipuesearch/tipuesearch.js"></script>
    
    
  </body>
</html>